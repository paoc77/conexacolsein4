<ion-header>
    <ion-navbar>
        <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
        <ion-title>GeoReferenciar Empresas</ion-title>
    </ion-navbar>
</ion-header>

<ion-content>
    <ion-card>
        <ion-card-content>
            <ion-card-header>
                Buscar Empresas
            </ion-card-header>
            <ion-list>
                <ion-item>
                    <ion-label>Nombre:</ion-label>
                    <ion-input type="text" [(ngModel)]="nombreBuscar"></ion-input>
                </ion-item>
            </ion-list>
            <button ion-button icon-left full (click)="buscarEmpresas()">
                <ion-icon name="search"></ion-icon>
                Buscar
            </button>

        </ion-card-content>
    </ion-card>
    <ion-card *ngIf="empresasL.length>0">
        <ion-card-content>
            <ion-card-header>
                Favor Seleccione la empresa
            </ion-card-header>
            <ion-list radio-group style="height:200px; overflow-y:auto">
                <ion-list-header>
                    Empresas Encontradas
                </ion-list-header>
                <ion-item *ngFor="let empresa of empresasL">
                    <ion-label>{{ empresa.nombre }} - {{ empresa.ciudad }}</ion-label>
                    <ion-radio checked="false" value="{{empresa.id}}" (click)="seleccionarEmpresas(empresa.id)"></ion-radio>
                </ion-item>
            </ion-list>
        </ion-card-content>
    </ion-card>
    <ion-card *ngIf="empresa!=null">
        <ion-card-content>
            <ion-card-header>
                Datos De La Empresa
            </ion-card-header>

            <ion-item>
                <ion-label floating>Nombre</ion-label>
                <ion-input type="text" [(ngModel)]="empresa.nombre" name="nombre" [readonly]="true"></ion-input>
            </ion-item>
            <ion-item>
                <ion-label floating>Nit</ion-label>
                <ion-input type="text" [(ngModel)]="empresa.nit" name="nit" [readonly]="true"></ion-input>
            </ion-item>
            <ion-item>
                <ion-label floating>Ciudad</ion-label>
                <ion-input type="text" [(ngModel)]="empresa.ciudad" name="ciudad" [readonly]="true"></ion-input>
            </ion-item>
            <ion-item>
                <ion-label floating>Teléfono</ion-label>
                <ion-input type="text" [(ngModel)]="empresa.telefono" name="telefono" v></ion-input>
            </ion-item>
            <ion-item>
                <ion-label floating>Dirección</ion-label>
                <ion-input type="text" [(ngModel)]="empresa.direccion" name="direccion" [readonly]="true"></ion-input>
            </ion-item>
            <ion-item>
                <ion-label floating>E-mail</ion-label>
                <ion-input type="text" [(ngModel)]="empresa.email" name="email" [readonly]="true"></ion-input>
            </ion-item>
            <ion-item>
                <ion-label floating>Latitud</ion-label>
                <ion-input type="text" [(ngModel)]="empresa.latitud" name="latitud"></ion-input>
            </ion-item>
            <ion-item>
                <ion-label floating>Longitud</ion-label>
                <ion-input type="text" [(ngModel)]="empresa.longitud" name="longitud"></ion-input>
            </ion-item>
            <button ion-button icon-left full (click)="actualizarEmpresa()">
                    <ion-icon name="save"></ion-icon>
                    Actualizar Geolocalización
            </button>

        </ion-card-content>

    </ion-card>
</ion-content>

<!--
ciudad:null
contactos:null
direccion:null
email:null
fax:"3464666"
id:8
latitud:"4.7933297999999995"
licencia:null
licenciaId:2
longitud:"-75.7135113"
nit:"900666539-0"
nombre:"global"
pais:null
razonSocial:"Globa Travel Ideas S.A.S"
sucursales:null
telefono:"3464666"
tipo:null
url:null
usuarioAsignadoId:null
usuarioCreoId:null
-->